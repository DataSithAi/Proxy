# üöÄ –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–æ–∫—Å–∏ –ø–∞–Ω–µ–ª–∏ Marzban —Å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û –ø—Ä–æ–µ–∫—Ç–µ Marzban](#–æ-–ø—Ä–æ–µ–∫—Ç–µ-marzban)
2. [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
3. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-—Å–∏—Å—Ç–µ–º—ã)
4. [–°–æ–∑–¥–∞–Ω–∏–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞](#—Å–æ–∑–¥–∞–Ω–∏–µ-ssl-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞)
5. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Marzban](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-marzban)
6. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL –≤ Marzban](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-ssl-–≤-marzban)
7. [–°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞](#—Å–æ–∑–¥–∞–Ω–∏–µ-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
8. [–î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#–¥–æ—Å—Ç—É–ø-–∫-–ø–∞–Ω–µ–ª–∏-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
9. [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
10. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
11. [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)

---

## üéØ –û –ø—Ä–æ–µ–∫—Ç–µ Marzban

**Marzban** - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞–º–∏ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞ –±–∞–∑–µ **Xray-core**. 

### ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üåê –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üîÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤: Vmess, VLESS, Trojan, Shadowsocks
- üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot
- üîó –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫
- üõ°Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ TLS –∏ REALITY

---

## ‚öôÔ∏è –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### üñ•Ô∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–û–°**: Ubuntu 18.04+, Debian 10+, CentOS 7+
- **RAM**: –º–∏–Ω–∏–º—É–º 512 –ú–ë (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1 –ì–ë+)
- **–î–∏—Å–∫**: –º–∏–Ω–∏–º—É–º 2 –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **Root-–¥–æ—Å—Ç—É–ø** –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å sudo –ø—Ä–∞–≤–∞–º–∏

### üåê –°–µ—Ç–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–î–æ–º–µ–Ω –∏–ª–∏ –ø–æ–¥–¥–æ–º–µ–Ω**, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
- **–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã**: 80, 443, 8000
- **–°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**

### üìù –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å:
- IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `panel.example.com`)
- SSH-–¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É

---

## üõ†Ô∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã

### 1Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
# –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞–∫–µ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã
sudo apt install curl wget socat git nano openssl ufw -y
```

### 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å –≤–∞—à–∏–º –¥–æ–º–µ–Ω–æ–º (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π)
export MARZBAN_DOMAIN="your-domain.example.com"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
echo "–í–∞—à –¥–æ–º–µ–Ω: $MARZBAN_DOMAIN"
```

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ó–∞–º–µ–Ω–∏—Ç–µ `your-domain.example.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω!

---

## üîí –°–æ–∑–¥–∞–Ω–∏–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

### 3Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo mkdir -p /opt/marzban/ssl

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /opt/marzban/ssl

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
    -keyout marzban.key \
    -out marzban.crt \
    -subj "/C=RU/ST=Moscow/L=Moscow/O=MyOrganization/CN=$MARZBAN_DOMAIN"
```

### 4Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
sudo chmod 600 /opt/marzban/ssl/marzban.key
sudo chmod 644 /opt/marzban/ssl/marzban.crt

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
ls -la /opt/marzban/ssl/
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
-rw-r--r-- 1 root root 1318 Sep 20 04:37 marzban.crt
-rw------- 1 root root 1704 Sep 20 04:37 marzban.key
```

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Marzban

### 5Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Marzban —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
sudo bash -c "$(curl -sL https://github.com/Gozargah/Marzban-scripts/raw/master/marzban.sh)" @ install
```

> üí° **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**
> ```bash
> # –° MySQL
> sudo bash -c "$(curl -sL https://github.com/Gozargah/Marzban-scripts/raw/master/marzban.sh)" @ install --database mysql
> 
> # –° MariaDB  
> sudo bash -c "$(curl -sL https://github.com/Gozargah/Marzban-scripts/raw/master/marzban.sh)" @ install --database mariadb
> ```

### 6Ô∏è‚É£ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Marzban –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL
marzban down
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL –≤ Marzban

### 7Ô∏è‚É£ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –ö–æ–ø–∏—Ä—É–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é Marzban
sudo mkdir -p /var/lib/marzban/certs
sudo cp /opt/marzban/ssl/marzban.crt /var/lib/marzban/certs/
sudo cp /opt/marzban/ssl/marzban.key /var/lib/marzban/certs/

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
ls -la /var/lib/marzban/certs/
```

### 8Ô∏è‚É£ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
sudo nano /opt/marzban/.env
```

**–î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

```env
# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö–æ—Å—Ç–∞ –∏ –ø–æ—Ä—Ç–∞
UVICORN_HOST="0.0.0.0"
# –ü–æ—Ä—Ç –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å(–¥–∞ –∂–µ –Ω—É–∂–Ω–æ)
UVICORN_PORT=8000
# ALLOWED_ORIGINS=http://localhost,http://localhost:8000,http://example.com

# URL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ your-domain.example.com –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω!
SUB_BASE_URL=https://your-domain.example.com:8000

## We highly recommend add admin using `marzban cli` tool and do not use
## the following variables which is somehow hard codded infrmation.
# SUDO_USERNAME = "admin"
# SUDO_PASSWORD = "admin"

# UVICORN_UDS: "/run/marzban.socket"
# UVICORN_SSL_CERTFILE = "/var/lib/marzban/certs/example.com/fullchain.pem"
# UVICORN_SSL_KEYFILE = "/var/lib/marzban/certs/example.com/key.pem"
# UVICORN_SSL_CA_TYPE = "public"

# üîí SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
UVICORN_SSL_CERTFILE=/var/lib/marzban/certs/marzban.crt
UVICORN_SSL_KEYFILE=/var/lib/marzban/certs/marzban.key
UVICORN_SSL_CA_TYPE="private"

# DASHBOARD_PATH = "/dashboard/"

# üéõ –°–∫—Ä—ã—Ç—ã–π –ø—É—Ç—å –∫ –ø–∞–Ω–µ–ª–∏ (–ø—Ä–∏–¥—É–º–∞–π—Ç–µ —Å–≤–æ–π –ø—É—Ç—å)
DASHBOARD_PATH="/my-admin-panel/"

# üìÅ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Xray
XRAY_JSON="/var/lib/marzban/xray_config.json"
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ your-domain.example.com –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω!
XRAY_SUBSCRIPTION_URL_PREFIX="https://your-domain.example.com"
XRAY_SUBSCRIPTION_PATH="myconfig"
```

> ‚ö†Ô∏è **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ** `your-domain.example.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω!

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:**
- –ù–∞–∂–º–∏—Ç–µ `Ctrl+S` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- –ù–∞–∂–º–∏—Ç–µ `Ctrl+X` –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞

---

## üë§ –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### 9Ô∏è‚É£ –ó–∞–ø—É—Å–∫ Marzban —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º Marzban —Å SSL
marzban up
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
INFO: Uvicorn running on https://0.0.0.0:8000 (Press CTRL+C to quit)
```

### üîü –°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–û—Ç–∫—Ä–æ–π—Ç–µ **–Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª** (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C` –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ª–æ–≥–æ–≤) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –°–æ–∑–¥–∞–µ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
marzban cli admin create --sudo
```

**–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:**
- **Username**: `admin` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è)
- **Password**: `–≤–∞—à_–Ω–∞–¥–µ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å`

---

## üåê –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1Ô∏è‚É£1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞

```bash
# –û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
sudo ufw allow 8000/tcp
sudo ufw allow 80/tcp  
sudo ufw allow 443/tcp
sudo ufw allow 22/tcp
sudo ufw enable

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
sudo ufw status
```

### 1Ô∏è‚É£2Ô∏è‚É£ –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:
   ```
   https://your-domain.example.com:8000/dashboard/
   ```
‚ö†Ô∏è–ï—Å–ª–∏ –º–µ–Ω—è–ª–∏ –ø–æ—Ä—Ç —Ç–æ –ø–∏—à–µ–º —Å–≤–æ–π –ø–æ—Ä—Ç,–µ—Å–ª–∏ –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω –ø—É—Ç—å –∫ –ø–∞–Ω–µ–ª–∏ –Ω–∞ —Å–∫—Ä—ã—Ç—ã–π –ø—É—Ç—å —Ç–æ –∑–∞ –º–µ—Å—Ç–æ dashboard –ø–∏—à–µ–º —Å–≤–æ–π –ø—É—Ç—å.–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ your-domain.example.com –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω!


2. **–û–±—Ö–æ–¥ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è SSL:**
   - **Chrome/Edge**: –ù–∞–∂–º–∏—Ç–µ "Advanced" ‚Üí "Proceed to site (unsafe)"
   - **Firefox**: –ù–∞–∂–º–∏—Ç–µ "Advanced" ‚Üí "Accept the Risk and Continue"
   - **Safari**: –ù–∞–∂–º–∏—Ç–µ "Advanced" ‚Üí "Visit this website"

3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
   - –í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –ù–∞–∂–º–∏—Ç–µ "Login"

### üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! 
–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Marzban - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Marzban –¥–æ—Å—Ç—É–ø–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —Ç–æ–ª—å–∫–æ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É **Shadowsocks**. –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### üéõÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ VLESS, TROJAN, VMESS

#### 1Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Xray
1. –í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –ø–∞–Ω–µ–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ **—à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏** ‚öôÔ∏è
2. –û—Ç–∫—Ä–æ—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

#### 2Ô∏è‚É£ –ó–∞–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
1. **–£–¥–∞–ª–∏—Ç–µ** –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ –ø–æ–ª—è "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"
2. **–í—Å—Ç–∞–≤—å—Ç–µ** —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```json
{
  "log": {
    "loglevel": "warning"
  },
  "routing": {
    "rules": [
      {
        "ip": [
          "geoip:private"
        ],
        "outboundTag": "BLOCK",
        "type": "field"
      }
    ]
  },
  "inbounds": [
    {
      "tag": "VMESS TCP NOTLS",
      "listen": "0.0.0.0",
      "port": 445,
      "protocol": "vmess",
      "settings": {
        "clients": []
      },
      "streamSettings": {
        "network": "tcp",
        "tcpSettings": {},
        "security": "none"
      },
      "sniffing": {
        "enabled": true,
        "destOverride": [
          "http",
          "tls",
          "quic"
        ]
      }
    },
    {
      "tag": "TROJAN TCP NOTLS",
      "listen": "0.0.0.0",
      "port": 444,
      "protocol": "trojan",
      "settings": {
        "clients": []
      },
      "streamSettings": {
        "network": "tcp",
        "tcpSettings": {},
        "security": "none"
      },
      "sniffing": {
        "enabled": true,
        "destOverride": [
          "http",
          "tls",
          "quic"
        ]
      }
    },
    {
      "tag": "VLESS TCP REALITY",
      "listen": "0.0.0.0",
      "port": 443,
      "protocol": "vless",
      "settings": {
        "clients": [],
        "decryption": "none"
      },
      "streamSettings": {
        "network": "tcp",
        "tcpSettings": {},
        "security": "reality",
        "realitySettings": {
          "show": false,
          "dest": "github.com:443",
          "xver": 0,
          "serverNames": [
            "github.com"
          ],
          "privateKey": "–≤—Å—Ç–∞–≤–∏—Ç—å —Å—é–¥–∞ privateKey",
          "shortIds": [
            "–≤—Å—Ç–∞–≤–∏—Ç—å —Å—é–¥–∞ shortIds"
          ]
        }
      },
      "sniffing": {
        "enabled": true,
        "destOverride": [
          "http",
          "tls",
          "quic"
        ]
      }
    },
    {
      "tag": "Shadowsocks TCP",
      "listen": "0.0.0.0",
      "port": 1080,
      "protocol": "shadowsocks",
      "settings": {
        "clients": [],
        "network": "tcp,udp"
      }
    }
  ],
  "outbounds": [
    {
      "protocol": "freedom",
      "tag": "DIRECT"
    },
    {
      "protocol": "blackhole",
      "tag": "BLOCK"
    }
  ]
}
```

#### 3Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –¥–ª—è VLESS TCP REALITY

–ü–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å **privateKey** –∏ **shortIds** –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ REALITY:

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è privateKey
docker exec marzban-marzban-1 xray x25519

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è shortIds
openssl rand -hex 8
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```bash
# –†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥—ã x25519:
Private key: gK3C9TVRXZ_Zp-rRCi3bkp3HdS6RJX8Xz7lJ_Nk1234
Public key: 7vCwRJ_2sB8JmzY-K5P7ZxQpS3hN6Vt4Rl9F_Ab5678

# –†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥—ã openssl rand:
a1b2c3d4e5f67890
```

#### 4Ô∏è‚É£ –í—Å—Ç–∞–≤–∫–∞ –∫–ª—é—á–µ–π –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–í –±–ª–æ–∫–µ **VLESS TCP REALITY** –∑–∞–º–µ–Ω–∏—Ç–µ:
- `"–≤—Å—Ç–∞–≤–∏—Ç—å —Å—é–¥–∞ privateKey"` ‚Üí `"gK3C9TVRXZ_Zp-rRCi3bkp3HdS6RJX8Xz7lJ_Nk1234"`
- `"–≤—Å—Ç–∞–≤–∏—Ç—å —Å—é–¥–∞ shortIds"` ‚Üí `"a1b2c3d4e5f67890"`

#### 5Ô∏è‚É£ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —è–¥—Ä–æ"**
3. **–ó–∞–∫—Ä–æ–π—Ç–µ** –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫
4. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ** —Å—Ç—Ä–∞–Ω–∏—Ü—É –±—Ä–∞—É–∑–µ—Ä–∞

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –≤ Marzban –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã:
- ‚ú® **VLESS TCP REALITY** (–ø–æ—Ä—Ç 443) - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- üî• **TROJAN TCP NOTLS** (–ø–æ—Ä—Ç 444) - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è  
- ‚ö° **VMESS TCP NOTLS** (–ø–æ—Ä—Ç 445)
- üõ°Ô∏è **Shadowsocks TCP** (–ø–æ—Ä—Ç 1080)

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **VLESS** –∏–ª–∏ **TROJAN** - –æ–Ω–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–æ –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö –∏ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

---

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞, –ø—É—Ç–∏ –∫ –ø–∞–Ω–µ–ª–∏ –∏ –ø—É—Ç–∏ –ø–æ–¥–ø–∏—Å–æ–∫

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Marzban —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É **8000**, –ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –ø—É—Ç–∏ `/dashboard/`, –∞ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ –ø—É—Ç–∏ `/sub/`. –î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

### 1Ô∏è‚É£ –ß—Ç–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|--------------|------------------|------------|
| **–ü–æ—Ä—Ç** | `8000` | `2083` | –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ä—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ |
| **–ü—É—Ç—å –∫ –ø–∞–Ω–µ–ª–∏** | `/dashboard/` | `/my-admin-panel/` | URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É |
| **–ü—É—Ç—å –ø–æ–¥–ø–∏—Å–æ–∫** | `/sub/` | `myconfig` | URL –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π |

### 2Ô∏è‚É£ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Marzban
marzban down

# –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
sudo nano /opt/marzban/.env
```

### 3Ô∏è‚É£ –ü—Ä–∏–º–µ—Ä —É–ª—É—á—à–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é:

```env
# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö–æ—Å—Ç–∞ –∏ –ø–æ—Ä—Ç–∞
UVICORN_HOST="0.0.0.0"
# –ü–æ—Ä—Ç –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å (–¥–∞–∂–µ –Ω—É–∂–Ω–æ) —Å 8000 --> –Ω–∞–ø—Ä–∏–º–µ—Ä 2083
UVICORN_PORT=2083
# ALLOWED_ORIGINS=http://localhost,http://localhost:8000,http://example.com

# URL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ your-domain.example.com –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω!
SUB_BASE_URL=https://your-domain.example.com:2083

## We highly recommend add admin using `marzban cli` tool and do not use
## the following variables which is somehow hard coded information.
# SUDO_USERNAME = "admin"
# SUDO_PASSWORD = "admin"

# UVICORN_UDS: "/run/marzban.socket"
# UVICORN_SSL_CERTFILE = "/var/lib/marzban/certs/example.com/fullchain.pem"
# UVICORN_SSL_KEYFILE = "/var/lib/marzban/certs/example.com/key.pem"
# UVICORN_SSL_CA_TYPE = "public"

# üîí SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
UVICORN_SSL_CERTFILE=/var/lib/marzban/certs/marzban.crt
UVICORN_SSL_KEYFILE=/var/lib/marzban/certs/marzban.key
UVICORN_SSL_CA_TYPE="private"

# DASHBOARD_PATH = "/dashboard/"

# üéõÔ∏è –°–∫—Ä—ã—Ç—ã–π –ø—É—Ç—å –∫ –ø–∞–Ω–µ–ª–∏ (–ø—Ä–∏–¥—É–º–∞–π—Ç–µ —Å–≤–æ–π –ø—É—Ç—å)
DASHBOARD_PATH="/my-admin-panel/"

# üìÅ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Xray
XRAY_JSON="/var/lib/marzban/xray_config.json"
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ your-domain.example.com –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω!
XRAY_SUBSCRIPTION_URL_PREFIX="https://your-domain.example.com"
XRAY_SUBSCRIPTION_PATH="myconfig"
```

### 4Ô∏è‚É£ –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

#### üåê **UVICORN_PORT** - –ü–æ—Ä—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

**–ß—Ç–æ —ç—Ç–æ:** –°–µ—Ç–µ–≤–æ–π –ø–æ—Ä—Ç –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ Marzban
**–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å:** `UVICORN_PORT=2083` (–∑–∞–º–µ–Ω–∏—Ç–µ 8000 –Ω–∞ –∂–µ–ª–∞–µ–º—ã–π –ø–æ—Ä—Ç)
**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- `2083` - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π HTTPS –ø–æ—Ä—Ç
- `8443` - –µ—â–µ –æ–¥–∏–Ω –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç  
- `2096` - —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –ø–æ—Ä—Ç
- `443` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π HTTPS (–º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å)

**–í–∞–∂–Ω–æ:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ—Ä—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç–µ `SUB_BASE_URL`

#### üéõÔ∏è **DASHBOARD_PATH** - –ü—É—Ç—å –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ß—Ç–æ —ç—Ç–æ:** URL-–ø—É—Ç—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
**–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å:** `DASHBOARD_PATH="/my-admin-panel/"` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ —Å–ª–µ—à–∞–º–∏)
**–ü—Ä–∏–º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—É—Ç–µ–π:**
- `"/admin-2024-secure/"`
- `"/management-xyz123/"`  
- `"/control-panel-secret/"`
- `"/my-lenovo-panel/"`

‚ö†Ô∏è–ò–ª–∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø—Ä–∏–¥—É–º–∞–µ—Ç–µ.

**–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è:**
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å —Å–ª–µ—à–µ–º `/`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –¥–µ—Ñ–∏—Å—ã
- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—á–µ–≤–∏–¥–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è (`/admin`, `/panel`)

#### üìÅ **XRAY_SUBSCRIPTION_PATH** - –ü—É—Ç—å –ø–æ–¥–ø–∏—Å–æ–∫

**–ß—Ç–æ —ç—Ç–æ:** URL-–ø—É—Ç—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
**–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å:** `XRAY_SUBSCRIPTION_PATH="myconfig"` (–±–µ–∑ —Å–ª–µ—à–µ–π!)
**–ü—Ä–∏–º–µ—Ä—ã –ø—É—Ç–µ–π:**
- `"config-data"`
- `"user-settings"`  
- `"gotoertp"`
- `"myconfig"`

‚ö†Ô∏è–ò–ª–∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø—Ä–∏–¥—É–º–∞–µ—Ç–µ.

**–û—Ç–ª–∏—á–∏—è –æ—Ç DASHBOARD_PATH:**
- ‚ùå –ë–ï–ó —Å–ª–µ—à–µ–π –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ
- ‚úÖ –¢–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –¥–µ—Ñ–∏—Å—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏

#### üîó **SUB_BASE_URL** - –ë–∞–∑–æ–≤—ã–π URL —Å–∏—Å—Ç–µ–º—ã

**–ß—Ç–æ —ç—Ç–æ:** –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–æ–∫
**–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å:** `SUB_BASE_URL=https://your-domain.com:2083`
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** `https://` + `–¥–æ–º–µ–Ω` + `:` + `–ø–æ—Ä—Ç`

**–í–∞–∂–Ω–æ:** –ü–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `UVICORN_PORT`!

### 5Ô∏è‚É£ –û—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Ä—Ç–∞

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2083)
sudo ufw allow 2083/tcp

# –ó–∞–∫—Ä–æ–π—Ç–µ —Å—Ç–∞—Ä—ã–π –ø–æ—Ä—Ç 8000 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo ufw delete allow 8000/tcp

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo ufw status
```

### 6Ô∏è‚É£ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (Ctrl+S, –∑–∞—Ç–µ–º Ctrl+X)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ Marzban
marzban up
```

### 7Ô∏è‚É£ –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```
–ü–∞–Ω–µ–ª—å: https://domain.com:8000/dashboard/
–ü–æ–¥–ø–∏—Å–∫–∏: https://domain.com:8000/sub/username
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```  
–ü–∞–Ω–µ–ª—å: https://domain.com:2083/my-admin-panel/
–ü–æ–¥–ø–∏—Å–∫–∏: https://domain.com:2083/myconfig/username
```

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ Marzban –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã
sudo systemctl enable docker
```

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –ª–æ–≥–æ–≤
marzban logs

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
marzban logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤
# –ù–∞–∂–º–∏—Ç–µ Ctrl+C
```

### ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–æ–±–∞–≤—å—Ç–µ –≤ `/opt/marzban/.env`:

```env
# Telegram Bot –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TELEGRAM_API_TOKEN=123456789:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
TELEGRAM_ADMIN_ID=987654321
```

### üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
sudo tar -czf marzban-backup-$(date +%Y%m%d).tar.gz \
    /opt/marzban \
    /var/lib/marzban

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
sudo tar -xzf marzban-backup-YYYYMMDD.tar.gz -C /
```

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "SSL certificate file does not exist"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤
ls -la /var/lib/marzban/certs/

# –ï—Å–ª–∏ —Ñ–∞–π–ª–æ–≤ –Ω–µ—Ç, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–∞–Ω–æ–≤–æ
sudo cp /opt/marzban/ssl/* /var/lib/marzban/certs/
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Certificate verification failed"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∫–∞–∑–∞–Ω–æ:
# UVICORN_SSL_CA_TYPE="private"

sudo nano /opt/marzban/.env
marzban restart
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Port already in use"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –ø–æ—Ä—Ç
sudo lsof -i :8000

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å
sudo kill -9 [PID]

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Marzban
marzban restart
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Domain not accessible"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ–º–µ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ IP: `https://YOUR_IP:8000/dashboard/`

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Marzban

```bash
# –ó–∞–ø—É—Å–∫
marzban up

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞  
marzban down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
marzban restart

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
marzban status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
marzban logs

# –ü–æ–º–æ—â—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
marzban --help
```

### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
marzban cli admin create --sudo

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ã—á–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
marzban cli admin create

# –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
marzban cli admin list

# –ü–æ–º–æ—â—å –ø–æ CLI
marzban cli --help
```

### üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Marzban

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
sudo bash -c "$(curl -sL https://github.com/Gozargah/Marzban-scripts/raw/master/marzban.sh)" @ update
```

### üìÅ –í–∞–∂–Ω—ã–µ –ø—É—Ç–∏

| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—É—Ç—å |
|------------|------|
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | `/opt/marzban/.env` |
| SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã | `/var/lib/marzban/certs/` |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | `/var/lib/marzban/db.sqlite3` |
| –õ–æ–≥–∏ | `marzban logs` |
| Xray –∫–æ–Ω—Ñ–∏–≥ | `/var/lib/marzban/xray_config.json` |

---

## üîê –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### üõ°Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ä—ã:

1. **–°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
2. **–†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏**
3. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ Marzban –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π**
4. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH**
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**

### üîí –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
sudo apt install certbot -y

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot certonly --standalone -d your-domain.example.com

# –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –±—É–¥—É—Ç –≤:
# /etc/letsencrypt/live/your-domain.example.com/fullchain.pem
# /etc/letsencrypt/live/your-domain.example.com/privkey.pem
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ

- üìñ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [Marzban Docs](https://gozargah.github.io/marzban)
- üí¨ **Telegram**: [Marzban Support](https://t.me/gozargah_marzban)
- üêô **GitHub**: [Marzban Repository](https://github.com/Gozargah/Marzban)
- üîß **Issues**: [Bug Reports](https://github.com/gozargah/marzban/issues)

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ **Marzban** —Å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º. 

### ‚úÖ –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏–ª–∏:
- ‚ú® –†–∞–±–æ—Ç–∞—é—â—É—é –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏
- üîí SSL-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- üë§ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ
- üåê –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ò–∑—É—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã
4. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É Telegram Bot
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

**–£–¥–∞—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Marzban!** üéâ

---

> üí° **–°–æ–≤–µ—Ç**: –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ –∑–∞–∫–ª–∞–¥–∫–∏ - –æ–Ω–∞ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤ –±—É–¥—É—â–µ–º –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö –∏–ª–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–∏—Å—Ç–µ–º—ã.